<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quick Start in Using the z11 package • z11</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Quick Start in Using the z11 package">
<meta property="og:description" content="z11">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">z11</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/using-z11.html">Quick Start in Using the z11 package</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="using-z11_files/header-attrs-2.5/header-attrs.js"></script><script src="using-z11_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Quick Start in Using the z11 package</h1>
                        <h4 class="author">Stefan Jünger</h4>
            
            <h4 class="date">2020-12-04</h4>
      
      
      <div class="hidden name"><code>using-z11.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>The <code>z11</code> package provides an <code>R</code>-interface to the geospatial raster data of the German Census 2011. <code>z11</code> can be used to list all available attributes from the Census (1 km² attributes and 1-hectare attribute) and import them either as <a href="https://r-spatial.github.io/sf/">simple features</a> spatial points object or as <a href="https://cran.r-project.org/web/packages/raster/index.html">raster</a> object with the resolution of the corresponding attribute. I felt that such a package may be of interest for other userRs since the Census data ‘only’ exists as <a href="https://www.zensus2011.de/DE/Home/Aktuelles/DemografischeGrunddaten.html">CSV data dump on the internet</a>. However, to use them in a Geographic Information System (GIS), the data must be prepared, which is time-consuming and computationally demanding. As such, the package aims to fill the gap of making the data easily accessible by providing a straightforward method.</p>
<p>Generally, the German Census 2011 data are available under a <a href="https://www.govdata.de/dl-de/by-2-0">Data licence Germany – attribution – version 2.0</a> and can be manipulated and openly shared. <strong>Yet, as part of this package, use them at your own risk and do not take the results of the functions for granted.</strong></p>
</div>
<div id="installing-and-loading-the-package" class="section level1">
<h1 class="hasAnchor">
<a href="#installing-and-loading-the-package" class="anchor"></a>Installing and Loading the Package</h1>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"StefanJuenger/z11"</span><span class="op">)</span></code></pre></div>
<p>The functions in the package rely on data prepared in <a href="https://github.com/StefanJuenger/z11data">another repository</a>. If you want to work locally, please download them first and follow the instructions of the manual.</p>
<p>After installing, the package can be loaded using <code>R</code>’s standard method:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">z11</span><span class="op">)</span></code></pre></div>
</div>
<div id="working-with-1-km²-german-census-2011-data" class="section level1">
<h1 class="hasAnchor">
<a href="#working-with-1-km%C2%B2-german-census-2011-data" class="anchor"></a>Working with 1 km² German Census 2011 Data</h1>
<p>1 km² data were the first data published in 2015. While they comprise fewer attributes than the 1 hectare ones (see below), the data are in a way more easy to use format (see also the z11 package’s vignette about the initial data preparation [still in the works]). You can browse all available attributes by using the following function.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">z11</span><span class="fu">::</span><span class="fu"><a href="../reference/z11_list_1km_attributes.html">z11_list_1km_attributes</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;  [1] "Einwohner_cat"       "Frauen_A_cat"        "Alter_D_cat"        </span>
<span class="co">#&gt;  [4] "unter18_A_cat"       "ab65_A_cat"          "Auslaender_A_cat"   </span>
<span class="co">#&gt;  [7] "HHGroesse_D_cat"     "Leerstandsquote_cat" "Wohnfl_Bew_D_cat"   </span>
<span class="co">#&gt; [10] "Wohnfl_Whg_D_cat"    "Einwohner"           "Frauen_A"           </span>
<span class="co">#&gt; [13] "Alter_D"             "unter18_A"           "ab65_A"             </span>
<span class="co">#&gt; [16] "Auslaender_A"        "HHGroesse_D"         "Leerstandsquote"    </span>
<span class="co">#&gt; [19] "Wohnfl_Bew_D"        "Wohnfl_Whg_D"</span></code></pre></div>
<p>Thus, in sum we can use 20 different census attributes of the size of 1 km². Please note that some of the attributes are also duplicated, denoted by the <code>_cat</code>-suffix in the attribute name. These attributes may be less precise, but they comprise fewer missing values than the continuous attributes. In any case, for more details about the actual attributes, refer to the official documentation of the German Census 2011 at <a href="https://www.zensus2011.de" class="uri">https://www.zensus2011.de</a>.</p>
<p>Now, if we want to load one of the attributes as a raster layer, we can use the <code><a href="../reference/z11_get_1km_attribute.html">z11::z11_get_1km_attribute()</a></code> function. For example, for importing information on immigrant rates on a 1 km² grid level, we could use the following command:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">immigrants_1km</span> <span class="op">&lt;-</span>
  <span class="fu">z11</span><span class="fu">::</span><span class="fu"><a href="../reference/z11_get_1km_attribute.html">z11_get_1km_attribute</a></span><span class="op">(</span><span class="va">Auslaender_A</span><span class="op">)</span>
<span class="co">#&gt; Warning in showSRID(uprojargs, format = "PROJ", multiline = "NO", prefer_proj =</span>
<span class="co">#&gt; prefer_proj): Discarded datum Unknown based on GRS80 ellipsoid in CRS definition</span>
<span class="co">#&gt; Warning in showSRID(SRS_string, format = "PROJ", multiline = "NO", prefer_proj =</span>
<span class="co">#&gt; prefer_proj): Discarded datum European Terrestrial Reference System 1989 in CRS</span>
<span class="co">#&gt; definition</span></code></pre></div>
<p>Voilà, we got this information as a standard raster layer (<code><a href="https://rdrr.io/r/base/class.html">class("Raster")</a></code>) as specified in the <code>raster</code> package:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">immigrants_1km</span>
<span class="co">#&gt; class      : RasterLayer </span>
<span class="co">#&gt; dimensions : 867, 641, 555747  (nrow, ncol, ncell)</span>
<span class="co">#&gt; resolution : 1000, 1000  (x, y)</span>
<span class="co">#&gt; extent     : 4031500, 4672500, 2684500, 3551500  (xmin, xmax, ymin, ymax)</span>
<span class="co">#&gt; crs        : +proj=laea +lat_0=52 +lon_0=10 +x_0=4321000 +y_0=3210000 +ellps=GRS80 +units=m +no_defs </span>
<span class="co">#&gt; source     : memory</span>
<span class="co">#&gt; names      : layer </span>
<span class="co">#&gt; values     : -9, 100  (min, max)</span></code></pre></div>
<p>Therefore, we can also use the <code>raster</code> package’s standard plotting procedures:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/plot.html">plot</a></span><span class="op">(</span><span class="va">immigrants_1km</span><span class="op">)</span></code></pre></div>
<p><img src="using-z11_files/figure-html/plot-1km-immigrants-raster-1.png" width="700"></p>
<p>Suppose we do not want to work with raster data. Instead, we aim to use the raster grid cell’s centroid coordinates. In that case, we can also load the data as a simple features data frame with point geometries as specified in the <code>sf</code> package by simply using the option <code>as_raster</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">immigrants_1km_sf</span> <span class="op">&lt;-</span>
  <span class="fu">z11</span><span class="fu">::</span><span class="fu"><a href="../reference/z11_get_1km_attribute.html">z11_get_1km_attribute</a></span><span class="op">(</span><span class="va">Auslaender_A</span>, as_raster <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p>Here we go:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">immigrants_1km_sf</span>
<span class="co">#&gt; Simple feature collection with 361478 features and 1 field</span>
<span class="co">#&gt; geometry type:  POINT</span>
<span class="co">#&gt; dimension:      XY</span>
<span class="co">#&gt; bbox:           xmin: 4031500 ymin: 2684500 xmax: 4672500 ymax: 3551500</span>
<span class="co">#&gt; projected CRS:  ETRS89-extended / LAEA Europe</span>
<span class="co">#&gt; # A tibble: 361,478 x 2</span>
<span class="co">#&gt;    Auslaender_A          geometry</span>
<span class="co">#&gt;           &lt;dbl&gt;       &lt;POINT [m]&gt;</span>
<span class="co">#&gt;  1           -1 (4334500 2684500)</span>
<span class="co">#&gt;  2           -1 (4335500 2684500)</span>
<span class="co">#&gt;  3           -1 (4336500 2684500)</span>
<span class="co">#&gt;  4           -1 (4337500 2684500)</span>
<span class="co">#&gt;  5           -1 (4338500 2684500)</span>
<span class="co">#&gt;  6           -1 (4339500 2684500)</span>
<span class="co">#&gt;  7           -1 (4334500 2685500)</span>
<span class="co">#&gt;  8           -1 (4335500 2685500)</span>
<span class="co">#&gt;  9           -1 (4336500 2685500)</span>
<span class="co">#&gt; 10           -1 (4337500 2685500)</span>
<span class="co">#&gt; # … with 361,468 more rows</span></code></pre></div>
</div>
<div id="working-with-1-hectare-german-census-2011-data" class="section level1">
<h1 class="hasAnchor">
<a href="#working-with-1-hectare-german-census-2011-data" class="anchor"></a>Working with 1 hectare German Census 2011 Data</h1>
<p>In 2018, destatis also published Census data on a 1-hectare grid level. This 100m <span class="math inline">\(\times\)</span> 100m data provides a more fine-grained level of information for Germany’s population. Moreover, the data comprise way more attributes than the 1 km² one, including details on buildings and even heater types. Again, we can list all available attributes using a specialized function:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">z11</span><span class="fu">::</span><span class="fu"><a href="../reference/z11_list_100m_attributes.html">z11_list_100m_attributes</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;   [1] "ALTER_10JG_1"            "ALTER_10JG_2"           </span>
<span class="co">#&gt;   [3] "ALTER_10JG_3"            "ALTER_10JG_4"           </span>
<span class="co">#&gt;   [5] "ALTER_10JG_5"            "ALTER_10JG_6"           </span>
<span class="co">#&gt;   [7] "ALTER_10JG_7"            "ALTER_10JG_8"           </span>
<span class="co">#&gt;   [9] "ALTER_10JG_9"            "ALTER_KURZ_1"           </span>
<span class="co">#&gt;  [11] "ALTER_KURZ_2"            "ALTER_KURZ_3"           </span>
<span class="co">#&gt;  [13] "ALTER_KURZ_4"            "ALTER_KURZ_5"           </span>
<span class="co">#&gt;  [15] "BAUJAHR_MZ_1"            "BAUJAHR_MZ_10"          </span>
<span class="co">#&gt;  [17] "BAUJAHR_MZ_2"            "BAUJAHR_MZ_3"           </span>
<span class="co">#&gt;  [19] "BAUJAHR_MZ_4"            "BAUJAHR_MZ_5"           </span>
<span class="co">#&gt;  [21] "BAUJAHR_MZ_6"            "BAUJAHR_MZ_7"           </span>
<span class="co">#&gt;  [23] "BAUJAHR_MZ_8"            "BAUJAHR_MZ_9"           </span>
<span class="co">#&gt;  [25] "EIGENTUM_1"              "EIGENTUM_2"             </span>
<span class="co">#&gt;  [27] "EIGENTUM_3"              "EIGENTUM_4"             </span>
<span class="co">#&gt;  [29] "EIGENTUM_5"              "EIGENTUM_6"             </span>
<span class="co">#&gt;  [31] "EIGENTUM_7"              "EIGENTUM_8"             </span>
<span class="co">#&gt;  [33] "Einwohner"               "FAMGROESS_KLASS_1"      </span>
<span class="co">#&gt;  [35] "FAMGROESS_KLASS_2"       "FAMGROESS_KLASS_3"      </span>
<span class="co">#&gt;  [37] "FAMGROESS_KLASS_4"       "FAMGROESS_KLASS_5"      </span>
<span class="co">#&gt;  [39] "FAMSTND_AUSF_1"          "FAMSTND_AUSF_2"         </span>
<span class="co">#&gt;  [41] "FAMSTND_AUSF_3"          "FAMSTND_AUSF_4"         </span>
<span class="co">#&gt;  [43] "FAMSTND_AUSF_5"          "FAMSTND_AUSF_6"         </span>
<span class="co">#&gt;  [45] "FAMSTND_AUSF_7"          "FAMSTND_AUSF_8"         </span>
<span class="co">#&gt;  [47] "FAMTYP_KIND_1"           "FAMTYP_KIND_10"         </span>
<span class="co">#&gt;  [49] "FAMTYP_KIND_11"          "FAMTYP_KIND_12"         </span>
<span class="co">#&gt;  [51] "FAMTYP_KIND_13"          "FAMTYP_KIND_2"          </span>
<span class="co">#&gt;  [53] "FAMTYP_KIND_3"           "FAMTYP_KIND_4"          </span>
<span class="co">#&gt;  [55] "FAMTYP_KIND_5"           "FAMTYP_KIND_6"          </span>
<span class="co">#&gt;  [57] "FAMTYP_KIND_7"           "FAMTYP_KIND_8"          </span>
<span class="co">#&gt;  [59] "FAMTYP_KIND_9"           "GEBAEUDEART_SYS_111"    </span>
<span class="co">#&gt;  [61] "GEBAEUDEART_SYS_112"     "GEBAEUDEART_SYS_12"     </span>
<span class="co">#&gt;  [63] "GEBTYPBAUWEISE_1"        "GEBTYPBAUWEISE_2"       </span>
<span class="co">#&gt;  [65] "GEBTYPBAUWEISE_3"        "GEBTYPBAUWEISE_4"       </span>
<span class="co">#&gt;  [67] "GEBTYPGROESSE_1"         "GEBTYPGROESSE_10"       </span>
<span class="co">#&gt;  [69] "GEBTYPGROESSE_2"         "GEBTYPGROESSE_3"        </span>
<span class="co">#&gt;  [71] "GEBTYPGROESSE_4"         "GEBTYPGROESSE_5"        </span>
<span class="co">#&gt;  [73] "GEBTYPGROESSE_6"         "GEBTYPGROESSE_7"        </span>
<span class="co">#&gt;  [75] "GEBTYPGROESSE_8"         "GEBTYPGROESSE_9"        </span>
<span class="co">#&gt;  [77] "GEBURTLAND_GRP_1"        "GEBURTLAND_GRP_21"      </span>
<span class="co">#&gt;  [79] "GEBURTLAND_GRP_22"       "GEBURTLAND_GRP_23"      </span>
<span class="co">#&gt;  [81] "GEBURTLAND_GRP_24"       "GESCHLECHT_1"           </span>
<span class="co">#&gt;  [83] "GESCHLECHT_2"            "HEIZTYP_1"              </span>
<span class="co">#&gt;  [85] "HEIZTYP_2"               "HEIZTYP_3"              </span>
<span class="co">#&gt;  [87] "HEIZTYP_4"               "HEIZTYP_5"              </span>
<span class="co">#&gt;  [89] "HEIZTYP_6"               "HHGROESS_KLASS_1"       </span>
<span class="co">#&gt;  [91] "HHGROESS_KLASS_2"        "HHGROESS_KLASS_3"       </span>
<span class="co">#&gt;  [93] "HHGROESS_KLASS_4"        "HHGROESS_KLASS_5"       </span>
<span class="co">#&gt;  [95] "HHGROESS_KLASS_6"        "HHTYP_FAM_1"            </span>
<span class="co">#&gt;  [97] "HHTYP_FAM_2"             "HHTYP_FAM_3"            </span>
<span class="co">#&gt;  [99] "HHTYP_FAM_4"             "HHTYP_FAM_5"            </span>
<span class="co">#&gt; [101] "HHTYP_LEB_1"             "HHTYP_LEB_2"            </span>
<span class="co">#&gt; [103] "HHTYP_LEB_3"             "HHTYP_LEB_4"            </span>
<span class="co">#&gt; [105] "HHTYP_LEB_5"             "HHTYP_LEB_6"            </span>
<span class="co">#&gt; [107] "HHTYP_LEB_7"             "HHTYP_SENIOR_HH_1"      </span>
<span class="co">#&gt; [109] "HHTYP_SENIOR_HH_2"       "HHTYP_SENIOR_HH_3"      </span>
<span class="co">#&gt; [111] "NUTZUNG_DETAIL_HHGEN_11" "NUTZUNG_DETAIL_HHGEN_12"</span>
<span class="co">#&gt; [113] "NUTZUNG_DETAIL_HHGEN_21" "NUTZUNG_DETAIL_HHGEN_22"</span>
<span class="co">#&gt; [115] "NUTZUNG_DETAIL_HHGEN_3"  "NUTZUNG_DETAIL_HHGEN_4" </span>
<span class="co">#&gt; [117] "RAUMANZAHL_1"            "RAUMANZAHL_2"           </span>
<span class="co">#&gt; [119] "RAUMANZAHL_3"            "RAUMANZAHL_4"           </span>
<span class="co">#&gt; [121] "RAUMANZAHL_5"            "RAUMANZAHL_6"           </span>
<span class="co">#&gt; [123] "RAUMANZAHL_7"            "RELIGION_KURZ_1"        </span>
<span class="co">#&gt; [125] "RELIGION_KURZ_2"         "RELIGION_KURZ_3"        </span>
<span class="co">#&gt; [127] "STAATSANGE_GRP_1"        "STAATSANGE_GRP_21"      </span>
<span class="co">#&gt; [129] "STAATSANGE_GRP_22"       "STAATSANGE_GRP_23"      </span>
<span class="co">#&gt; [131] "STAATSANGE_GRP_24"       "STAATSANGE_HLND_1"      </span>
<span class="co">#&gt; [133] "STAATSANGE_HLND_10"      "STAATSANGE_HLND_11"     </span>
<span class="co">#&gt; [135] "STAATSANGE_HLND_12"      "STAATSANGE_HLND_13"     </span>
<span class="co">#&gt; [137] "STAATSANGE_HLND_14"      "STAATSANGE_HLND_2"      </span>
<span class="co">#&gt; [139] "STAATSANGE_HLND_3"       "STAATSANGE_HLND_4"      </span>
<span class="co">#&gt; [141] "STAATSANGE_HLND_5"       "STAATSANGE_HLND_6"      </span>
<span class="co">#&gt; [143] "STAATSANGE_HLND_7"       "STAATSANGE_HLND_8"      </span>
<span class="co">#&gt; [145] "STAATSANGE_HLND_9"       "STAATSANGE_KURZ_1"      </span>
<span class="co">#&gt; [147] "STAATSANGE_KURZ_2"       "STAATZHL_1"             </span>
<span class="co">#&gt; [149] "STAATZHL_2"              "STAATZHL_3"             </span>
<span class="co">#&gt; [151] "STAATZHL_4"              "WOHNEIGENTUM_1"         </span>
<span class="co">#&gt; [153] "WOHNEIGENTUM_2"          "WOHNEIGENTUM_3"         </span>
<span class="co">#&gt; [155] "WOHNEIGENTUM_4"          "WOHNEIGENTUM_99"        </span>
<span class="co">#&gt; [157] "WOHNFLAECHE_10S_1"       "WOHNFLAECHE_10S_10"     </span>
<span class="co">#&gt; [159] "WOHNFLAECHE_10S_11"      "WOHNFLAECHE_10S_12"     </span>
<span class="co">#&gt; [161] "WOHNFLAECHE_10S_13"      "WOHNFLAECHE_10S_14"     </span>
<span class="co">#&gt; [163] "WOHNFLAECHE_10S_15"      "WOHNFLAECHE_10S_16"     </span>
<span class="co">#&gt; [165] "WOHNFLAECHE_10S_17"      "WOHNFLAECHE_10S_2"      </span>
<span class="co">#&gt; [167] "WOHNFLAECHE_10S_3"       "WOHNFLAECHE_10S_4"      </span>
<span class="co">#&gt; [169] "WOHNFLAECHE_10S_5"       "WOHNFLAECHE_10S_6"      </span>
<span class="co">#&gt; [171] "WOHNFLAECHE_10S_7"       "WOHNFLAECHE_10S_8"      </span>
<span class="co">#&gt; [173] "WOHNFLAECHE_10S_9"       "ZAHLWOHNGN_HHG_1"       </span>
<span class="co">#&gt; [175] "ZAHLWOHNGN_HHG_2"        "ZAHLWOHNGN_HHG_3"       </span>
<span class="co">#&gt; [177] "ZAHLWOHNGN_HHG_4"        "ZAHLWOHNGN_HHG_5"</span></code></pre></div>
<p>As we can see, the number of attributes is quite high, in sum 178. The naming convention is different as the names depict a concatenated string between each attribute name and its category. In contrast to the 1 km² data, the attribute values are the number of persons within each 1-hectare grid cell sharing the attribute’s characteristic. Again, please refer to the official German Census 2011 documentation since it details how to handle the data and interpret its values. The data here are just vanilla Census data. However, they were converted from a long data format to a wide one for rasterizing.</p>
<p>Speaking of rasterizing: the 1-hectare data can again be imported by using a specialized function. For example, to import the number of immigrants attribute, we can use this command:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">immigrants_100m</span> <span class="op">&lt;-</span>
  <span class="fu">z11</span><span class="fu">::</span><span class="fu"><a href="../reference/z11_get_100m_attribute.html">z11_get_100m_attribute</a></span><span class="op">(</span><span class="va">STAATSANGE_KURZ_2</span><span class="op">)</span>
<span class="co">#&gt; Warning in showSRID(uprojargs, format = "PROJ", multiline = "NO", prefer_proj =</span>
<span class="co">#&gt; prefer_proj): Discarded datum Unknown based on GRS80 ellipsoid in CRS definition</span>
<span class="co">#&gt; Warning in showSRID(SRS_string, format = "PROJ", multiline = "NO", prefer_proj =</span>
<span class="co">#&gt; prefer_proj): Discarded datum European Terrestrial Reference System 1989 in CRS</span>
<span class="co">#&gt; definition</span></code></pre></div>
<p>The operation may take a bit longer, as the 1-hectare data are bigger and therefore computationally also a bit more expensive. Fortunately, through their flat data structure, raster data files are usually a bit more comfortable to process. Plotting 1-hectare data is, therefore, also straightforward:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/plot.html">plot</a></span><span class="op">(</span><span class="va">immigrants_100m</span><span class="op">)</span></code></pre></div>
<p><img src="using-z11_files/figure-html/plot-100m-immigrants-raster-1.png" width="700"></p>
<p>If you wish to work with the data in a vector format, you can also use the <code>as_raster</code> option in the <code><a href="../reference/z11_get_100m_attribute.html">z11::z11_get_100m_attribute()</a></code> function:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">immigrants_100m_sf</span> <span class="op">&lt;-</span>
  <span class="fu">z11</span><span class="fu">::</span><span class="fu"><a href="../reference/z11_get_100m_attribute.html">z11_get_100m_attribute</a></span><span class="op">(</span><span class="va">STAATSANGE_KURZ_2</span>, as_raster <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p>See:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">immigrants_1km_sf</span>
<span class="co">#&gt; Simple feature collection with 361478 features and 1 field</span>
<span class="co">#&gt; geometry type:  POINT</span>
<span class="co">#&gt; dimension:      XY</span>
<span class="co">#&gt; bbox:           xmin: 4031500 ymin: 2684500 xmax: 4672500 ymax: 3551500</span>
<span class="co">#&gt; projected CRS:  ETRS89-extended / LAEA Europe</span>
<span class="co">#&gt; # A tibble: 361,478 x 2</span>
<span class="co">#&gt;    Auslaender_A          geometry</span>
<span class="co">#&gt;           &lt;dbl&gt;       &lt;POINT [m]&gt;</span>
<span class="co">#&gt;  1           -1 (4334500 2684500)</span>
<span class="co">#&gt;  2           -1 (4335500 2684500)</span>
<span class="co">#&gt;  3           -1 (4336500 2684500)</span>
<span class="co">#&gt;  4           -1 (4337500 2684500)</span>
<span class="co">#&gt;  5           -1 (4338500 2684500)</span>
<span class="co">#&gt;  6           -1 (4339500 2684500)</span>
<span class="co">#&gt;  7           -1 (4334500 2685500)</span>
<span class="co">#&gt;  8           -1 (4335500 2685500)</span>
<span class="co">#&gt;  9           -1 (4336500 2685500)</span>
<span class="co">#&gt; 10           -1 (4337500 2685500)</span>
<span class="co">#&gt; # … with 361,468 more rows</span></code></pre></div>
<p>That’s it. There’s not yet much more to tell at the moment.</p>
</div>
<div id="future" class="section level1">
<h1 class="hasAnchor">
<a href="#future" class="anchor"></a>Future</h1>
<p>The package itself should not provide many more functionalities, rather than listing and importing the German Census 2011 data. However, few things are still a bit rough around the edges and hopefully should be improved in the future:</p>
<div id="speed" class="section level2">
<h2 class="hasAnchor">
<a href="#speed" class="anchor"></a>Speed</h2>
<p>In some cases (especially in the 1-hectare data), the functions of the package could be a bit quicker in computing. I did my best to reduce the input data amount, but a simple database format would still have some benefits.</p>
</div>
<div id="metadata" class="section level2">
<h2 class="hasAnchor">
<a href="#metadata" class="anchor"></a>Metadata</h2>
<p>What is missing in the package is the documentation of the census. It would indeed be nice to have a more comprehensive overview of all attributes and their descriptions. Also, the variable names are sometimes not helpful. At the moment, I am still undecided if I really want the change the latter since they resemble the names from the original input data. The goal of the package is not necessarily data harmonization of the German Census 2011.</p>
</div>
</div>
<div id="sources" class="section level1">
<h1 class="hasAnchor">
<a href="#sources" class="anchor"></a>Sources</h1>
<ul>
<li>German Census 2011 Website: <a href="https://www.zensus.de" class="uri">https://www.zensus.de</a>
</li>
<li>Access to the original input data and their documentation (only in German): <a href="https://www.zensus2011.de/DE/Home/Aktuelles/DemografischeGrunddaten.html" class="uri">https://www.zensus2011.de/DE/Home/Aktuelles/DemografischeGrunddaten.html</a>
</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Stefan Jünger.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
